# Server Module (Модуль сервера)

Этот серверный модуль представляет собой часть https://github.com/Valitriya/FinanceApp проекта и предоставляет API для взаимодействия с клиентской частью. Он использует Node.js, Express.js и MongoDB для обработки запросов и хранения данных.

## Установка

1. Убедитесь, что у вас установлен Node.js. Если нет, вы можете скачать его с [официального сайта](https://nodejs.org/).

2. Склонируйте репозиторий или загрузите файлы серверного модуля.

3. В корневой папке проекта выполните следующую команду для установки зависимостей:

```
npm install
```
Создайте файл .env в корневой папке проекта и укажите в нем необходимые конфигурационные переменные, например:
```
MONGO_URL=your_mongo_db_connection_url
PORT=9000
```
## Запуск
Для запуска сервера выполните следующую команду:

```
npm run dev
```
Эта команда запустит сервер в режиме разработки с использованием Nodemon. Сервер будет доступен на порту, указанном в файле .env или по умолчанию на порту 9000.

## Ключевые показатели производительности (KPI)

Этот модуль представляет собой схемы и модель данных для хранения и управления ключевыми показателями производительности (KPI) в приложении. KPI предоставляют информацию о финансовых и операционных показателях, таких как прибыль, расходы, доход, а также разделение расходов по категориям.

### Схемы данных

#### Day Schema (Схема по дням)

- Схема данных для хранения информации о финансовых показателях за каждый день. Она включает следующие поля:
  - `date` - дата.
  - `revenue` - доход.
  - `expenses` - расходы.

#### Month Schema (Схема по месяцам)

- Схема данных для хранения информации о финансовых показателях за каждый месяц. Она включает следующие поля:
  - `month` - месяц.
  - `revenue` - доход.
  - `expenses` - расходы.
  - `operationalExpenses` - операционные расходы.
  - `nonOperationalExpenses` - внерабочие расходы.
  - `monthlyData` - массив данных по месяцам.
  - `dailyData` - массив данных по дням, используя схему Day Schema.

#### KPI Schema (Схема KPI)

- Основная схема данных для хранения общих KPI. Она включает следующие поля:
  - `totalProfit` - общая прибыль.
  - `totalRevenue` - общий доход.
  - `totaExpenses` - общие расходы.
  - `expenseByCategory` - категории расходов, представленные в виде карты.
  - `monthlyData` - массив данных по месяцам, используя схему Month Schema.

### Методы и функции

- `configureSchema(config)` - функция для настройки схемы данных в соответствии с переданным конфигом. Она позволяет легко создавать разные схемы для данных.

## Зависимости

Серверный модуль зависит от следующих пакетов:

- **body-parser** - для разбора тела HTTP-запросов.
- **cors** - для обработки CORS-запросов.
- **dotenv** - для загрузки конфигурационных переменных из файла `.env`.
- **express** - для создания и настройки веб-сервера.
- **helmet** - для улучшения безопасности Express-приложения.
- **mongoose** - библиотека для моделирования MongoDB-данных.
- **mongoose-currency** - расширение для Mongoose, поддерживающее работу с валютой.
- **morgan** - для логирования HTTP-запросов.
- **nodemon** - для автоматической перезагрузки сервера в режиме разработки.
